<html>
<head>
    <title>Wywrotka animation</title>
</head>
<body>
    <button onclick='moveme();'>Move truck</button>
    <div id="container"></div>
    <div id="wholeTruckWrapper" style="position: absolute; bottom: 0; left: 0;">
        <div id="wholeTruck" style="position: absolute; bottom: 0; left: 10vw;">
            <div id="wheel1"></div>
            <div id="wheel2"></div>
            <div id="truckFront"></div>
            <div id="truck"></div>
            <div id="truckDumper">
                <div id="truckDumperBottom"></div>
                <div id="truckDumperFront"></div>
            </div>
            <div id="cargoRotator">
                <div id="cargo"></div>
            </div>
        </div>
    </div>
    <div id="version">v. 1.0</div>
    <style>
        #version {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        #container {
            /*background-color: darkred;*/
            border: 4px solid saddlebrown;
            border-top-width: 0;
            width: 7vw;
            height: 3vw;
            position: absolute;
            bottom: 56.7vh;
            left: 42.5vw;
        }

        #wheel1 {
            position: absolute;
            background: black;
            bottom: 0;
            left: 0;
            width: 1vw;
            height: 1vw;
            border-radius: 50%;
        }

        #wheel2 {
            position: absolute;
            background: black;
            bottom: 0;
            left: 5vw;
            width: 1vw;
            height: 1vw;
            border-radius: 50%;
        }

        #truck {
            background-color: darkred;
            width: 7vw;
            height: 0.2vw;
            position: absolute;
            bottom: 1vw;
            left: 0;
        }

        #truckFront {
            background-color: darkred;
            width: 2vw;
            height: 3vw;
            position: absolute;
            bottom: 1vw;
            left: 5vw;
        }

        #truckDumperBottom {
            background-color: blue;
            width: 5vw;
            height: 0.2vw;
            position: absolute;
            bottom: 1.2vw;
            left: 0;
        }

        #truckDumperFront {
            background-color: blue;
            width: 0.2vw;
            height: 1.5vw;
            position: absolute;
            bottom: 1.2vw;
            left: 4.8vw;
        }

        #cargo {
            background-color: red;
            width: 4vw;
            height: 1vw;
            position: absolute;
            bottom: 1.4vw;
            left: 0.5vw;
        }

        @keyframes truck-rotation {
            0% {
                transform: rotate(0deg);
                /*animation-timing-function: ease-in;*/
            }
            14% {
                transform: rotate(0deg);
                animation-timing-function: cubic-bezier(0.535, 0.345, 0.555, 0.875);
            }
            28% {
                transform:  rotate(-90deg);
                /*animation-timing-function: ease-out;*/
            }
            42% {
                transform: rotate(-90deg);
                /*animation-timing-function: ease-out;*/
            }
            58% {
                transform: rotate(0deg);
                /*animation-timing-function: ease-out;*/
            }
            72% {
                transform: rotate(0deg);
                /*animation-timing-function: ease-out;*/
            }
            86% {
                transform: rotate(0deg);
                /*animation-timing-function: ease-out;*/
            }
            100% {
                transform: rotate(0deg);
                /*animation-timing-function: ease-out;*/
            }

        }

        @keyframes truck {
            0% {
                /*left:10vw;*/
                transform: translateX(0px);
                /*animation-timing-function: ease-in-out;*/
                animation-timing-function: cubic-bezier(0.565, 0.315, 0.415, 0.750);
            }
            14% {
                /*left:60vw;*/
                transform: translateX(calc(55vw));
                animation-timing-function: linear;
                /*animation-timing-function: cubic-bezier(0.565, 0.315, 0.415, 0.750);*/
            }
            28% {
                /*left:60vw;*/
                transform: translate(calc(70vw), calc(-20vh));
                animation-timing-function: linear;
            }
            42% {
                /*left:70vw;*/
                transform: translate(calc(70vw), calc(-50vh));
                animation-timing-function: ease-out;
            }
            58% {
                /*left:70vw;*/
                transform: translate(calc(70vw), calc(-60vh));
                animation-timing-function: ease-in-out;
            }
            72% {
                /*left:70vw;*/
                transform: translate(calc(40vw), calc(-60vh));
                animation-timing-function: ease-in-out;
            }
            86% {
                /*left:70vw;*/
                transform: translate(calc(40vw), calc(-60vh));
                animation-timing-function: ease-in-out;
            }
            100% {
                /*left:70vw;*/
                transform: translate(calc(70vw), calc(-60vh));
                animation-timing-function: linear;
            }
        }

        @keyframes dropOff {
            0% {
                /*left:10vw;*/
                transform: translateX(0px);
                animation-timing-function: ease-in;
            }
            14% {
                /*left:60vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            28% {
                /*left:60vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            42% {
                /*left:70vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            58% {
                /*left:70vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            72% {
                /*left:70vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            79% {
                transform: rotate(-45deg);
            }
            86% {
                /*left:70vw;*/
                /*transform: rotate(-45deg);*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            100% {
                /*left:70vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
        }
        @keyframes cargoAnim {
            0% {
                /*left:10vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            14% {
                /*left:60vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            28% {
                /*left:60vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            42% {
                /*left:70vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            58% {
                /*left:70vw;*/
                transform: translateX(0px);
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            72% {
                /*left:70vw;*/
                transform: translateX(0px);
                animation-timing-function: ease-in-out;
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
            79% {
                transform: translate(calc(-3vw), calc(1.2vh));
                animation-timing-function: ease-in-out;
            }
            86% {
                /*left:70vw;*/
                transform: translate(calc(-5vw), calc(5.7vh));
                animation-timing-function: ease-in-out;
            }
            100% {
                /*left:70vw;*/
                transform: translate(calc(-35vw), calc(5.7vh));
                animation-timing-function: linear;
                /*transform: translate(calc(-0.4vw), calc(0.4vw));*/
                /*transform: translate(calc(-10vw), calc(1.2vw));*/
                /*transform: translate(calc(-40vw), calc(1.2vw));*/
                /*animation-timing-function: cubic-bezier(0.25, 0.3, 1, 1);*/
            }
        }
    </style>
    <script>
        function moveme() {
            document.getElementById("wholeTruck").style.transition ="transform 5s ease-in-out"
            document.getElementById("wholeTruck").style.transform = `translate(${window.innerWidth*3/4}px, -${window.innerHeight/2}px) rotateZ(-45deg)`;
            // Truck anim
            document.getElementById("wholeTruckWrapper").style.animationName = "truck";
            document.getElementById("wholeTruckWrapper").style.animationTimingFunction = "linear";
            document.getElementById("wholeTruckWrapper").style.animationDuration = "7s";
            document.getElementById("wholeTruckWrapper").style.animationDelay = "0s";
            document.getElementById("wholeTruckWrapper").style.animationFillMode = "forwards";
            // Truck rotation
            document.getElementById("wholeTruck").style.transformOrigin = "3.5vw 4vw";
            // document.getElementById("wholeTruck").style.transition ="transform 0.83s linear 0.83s"
            // document.getElementById("wholeTruck").style.transform = `rotateZ(-90deg)`;
            document.getElementById("wholeTruck").style.animationName = "truck-rotation";
            document.getElementById("wholeTruck").style.animationTimingFunction = "linear";
            document.getElementById("wholeTruck").style.animationDuration = "7s";
            document.getElementById("wholeTruck").style.animationDelay = "0s";
            document.getElementById("wholeTruck").style.animationFillMode = "forwards";

            document.getElementById("truckDumper").style.animationName = "dropOff";
            document.getElementById("truckDumper").style.animationTimingFunction = "linear";
            document.getElementById("truckDumper").style.animationDuration = "7s";
            document.getElementById("truckDumper").style.animationDelay = "0s";
            document.getElementById("truckDumper").style.animationFillMode = "forwards";

            document.getElementById("truckDumper").style.animationName = "dropOff";
            document.getElementById("truckDumper").style.animationTimingFunction = "linear";
            document.getElementById("truckDumper").style.animationDuration = "7s";
            document.getElementById("truckDumper").style.animationDelay = "0s";
            document.getElementById("truckDumper").style.animationFillMode = "forwards";

            document.getElementById("cargo").style.animationName = "cargoAnim";
            document.getElementById("cargo").style.animationTimingFunction = "linear";
            document.getElementById("cargo").style.animationDuration = "7s";
            document.getElementById("cargo").style.animationDelay = "0s";
            document.getElementById("cargo").style.animationFillMode = "forwards";

            document.getElementById("cargoRotator").transformOrigin = "left bottom";
            document.getElementById("cargoRotator").style.animationName = "dropOff";
            document.getElementById("cargoRotator").style.animationTimingFunction = "linear";
            document.getElementById("cargoRotator").style.animationDuration = "7s";
            document.getElementById("cargoRotator").style.animationDelay = "0s";
            document.getElementById("cargoRotator").style.animationFillMode = "forwards";
            // document.getElementById("wholeTruckWrapper").style.transformOrigin = `60vw 98vh`;
        }
    </script>
</body>
</html>
